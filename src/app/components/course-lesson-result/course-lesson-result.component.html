<div class="course-lesson-result-cpn">

  <div class="test-info" *ngIf="!isLoading">
    <a class="back" [routerLink]="'/' + Routing.COURSE_LESSON_LIST.path + '/' + this.course.id ">
      <div class="icon bg-contain"></div>
    </a>
    <div class="test-name over-3-dots">
      {{lesson ? lesson.testName : ''}}
    </div>

    <skeleton-loading *ngIf="isLoadingLesson"></skeleton-loading>
  </div>

  <div class="test-content">
    <div class="wrapper">
      <div class="test-note">
        <strong>Ghi chú:</strong> {{lesson ? lesson.testDescription : ''}}
      </div>

      <!-- <div class="remake">
        <div class="icon bg-contain"></div>
        <div class="text" (click)="remake()">Làm lại bài kiểm tra</div>
      </div> -->

      <div class="exercise" [ngClass]="item.isCorrect ? 'correct': 'incorrect'"
        *ngFor="let item of result.items; index as i">
        <div class="inner">

          <div class="order"><strong>Câu {{i + 1}}:</strong></div>

          <div class="answer">
            Câu trả lời:

            <!-- điền khuyết  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.DIEN_KHUYET">
              <span *ngFor="let ans of item.dienKhuyet">
                <strong style="margin: 0 6px;">{{ans.student}}</strong>
              </span>
            </ng-container>

            <!-- gạch dưới  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.GACH_DUOI">
              <strong style="margin: 0 6px;">{{item.gachDuoi.student}}</strong>
            </ng-container>

            <!-- khoanh tròn  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.KHOANH_TRON">
              <strong style="margin: 0 6px;">{{item.khoanhTron.student}}</strong>
            </ng-container>

            <!-- sắp xếp  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.SAP_XEP">
              <strong style="margin: 0 6px;">{{item.sapXep.student}}</strong>
            </ng-container>
          </div>

          <div class="result" *ngIf="!item.isCorrect">
            Đáp án:

            <!-- điền khuyết  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.DIEN_KHUYET">
              <span *ngFor="let ans of item.dienKhuyet">
                <strong style="margin: 0 6px;">{{ans.correct}}</strong>
              </span>
            </ng-container>

            <!-- gạch dưới  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.GACH_DUOI">
              <strong style="margin: 0 6px;">{{item.gachDuoi.correct}}</strong>
            </ng-container>

            <!-- khoanh tròn  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.KHOANH_TRON">
              <strong style="margin: 0 6px;">{{item.khoanhTron.correct}}</strong>
            </ng-container>

            <!-- sắp xếp  -->
            <ng-container *ngIf="item.exercise.type == ExerciseType.SAP_XEP">
              <strong style="margin: 0 6px;">{{item.sapXep.correct}}</strong>
            </ng-container>
          </div>

          <div class="icon bg-contain"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="test-footer">
    <base-button text="Quay lại" [finishImmediately]="true" [width]="116" [height]="48" [color]="ButtonColor.BASIC" (onClick)="back(Routing.HOME.path)"></base-button>
    <base-button text="Trở về khóa học" [finishImmediately]="true" [width]="178" [height]="48" (onClick)="back(Routing.COURSE_LESSON_LIST.path + '/' + this.course.id)"></base-button>
    <base-button text="Làm lại bài kiểm tra" [finishImmediately]="true" [width]="216" [height]="48" (onClick)="remake()"></base-button>
  </div>

  <progess-spinner-loading *ngIf="isLoading"></progess-spinner-loading>
</div>
