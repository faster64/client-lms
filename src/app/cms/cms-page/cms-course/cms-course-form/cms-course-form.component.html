<div class="cms-course-form-cpn">
  <div class="cms-content-middle">

    <div class="row">
      <div class="col-12 data-item">
        <app-cms-upload-course-image [url]="data.imageUrl" [readOnly]="formMode == FormMode.View"
          (upload)="uploaded($event)" (remove)="removeImage()">
        </app-cms-upload-course-image>
      </div>
    </div>

    <div class="row">
      <div class="col-12 data-item code">
        <div class="label">Mã khóa học <span class="required">*</span></div>
        <dx-text-box #code [placeholder]="loadingSequence ? 'Đang lấy mã tự sinh': 'Nhập mã khóa học'"
          [(value)]="data.code" [readOnly]="true" [height]="44" (onEnterKey)="save()">
        </dx-text-box>
      </div>
    </div>

    <div class="row name">
      <div class="col-12 data-item">
        <div class="label">Tên khóa học <span class="required">*</span></div>
        <dx-text-box #name placeholder="Nhập tên khóa học" [(value)]="data.name" [readOnly]="formMode == FormMode.View"
          [height]="44" (onEnterKey)="save()">
        </dx-text-box>
      </div>
    </div>

    <div class="row short-description">
      <div class="col-12 data-item">
        <div class="label">Mô tả ngắn <span class="required">*</span></div>
        <dx-text-box #shortDescription placeholder="Nhập mô tả ngắn" [(value)]="data.shortDescription"
          [readOnly]="formMode == FormMode.View" [height]="44" (onEnterKey)="save()">
        </dx-text-box>
      </div>
    </div>

    <div class="row price">
      <div class="col-12 col-md-6 data-item">
        <div class="label">Giá <span class="required">*</span></div>
        <dx-number-box #price placeholder="Nhập giá tiền khóa học" [(value)]="data.price"
          [readOnly]="formMode == FormMode.View" [height]="44" [min]="0" format="0,###" (onEnterKey)="save()">
        </dx-number-box>
      </div>

      <div class="col-12 col-md-6 data-item">
        <div class="label">Lớp <span class="required">*</span></div>
        <app-class-selector #selector [readOnly]="formMode == FormMode.View" [height]="44"
          (onValueChanged)="data.classId = $event.current"></app-class-selector>
      </div>
    </div>

    <div class="row status">
      <div class="col-12 col-md-6 data-item">
        <div class="label">Trạng thái <span class="required">*</span></div>
        <dx-select-box [dataSource]="statuses" [(value)]="data.status" [height]="44"
          [readOnly]="formMode == FormMode.View" valueExpr="id" displayExpr="text" noDataText="Chưa chọn"
          placeholder="Chọn trạng thái khóa học">
        </dx-select-box>
      </div>

      <div class="col-12 col-md-6 data-item" *ngIf="data.status == CourseStatus.Release">
        <div class="label">Ngày phát hành</div>
        <dx-date-box [value]="data.releaseDate" [readOnly]="true" [height]="44">
        </dx-date-box>
      </div>
    </div>

    <div class="row description">
      <div class="col-12 data-item">
        <div class="label">Mô tả khóa học <span class="required">*</span></div>
        <app-editor [valueContent]="data.description" [readonly]="formMode == FormMode.View"
          (change)="data.description = $event">
        </app-editor>
      </div>
    </div>

    <div class="row" *ngIf="false && formMode == FormMode.View">
      <div class="col-12 col-md-6 data-item">
        <div class="label"> {{'base_keys.created_date' | translate}} </div>
        <dx-date-box [(value)]="data.created" [readOnly]="true"></dx-date-box>
      </div>

      <div class="col-12 col-md-6 data-item">
        <div class="label"> {{'base_keys.last_modified_date' | translate}} </div>
        <dx-date-box [(value)]="data.modified" [readOnly]="true"></dx-date-box>
      </div>
    </div>
  </div>

  <div class="cms-features-bottom">
    <app-cms-feature #cmsFeature [formMode]="formMode" (cancel)="cancel()" (save)="save()" (update)="update()"
      (delete)="delete()">
    </app-cms-feature>
  </div>

  <progess-spinner-loading *ngIf="isLoading"></progess-spinner-loading>
</div>
